<!DOCTYPE html>
<html lang="en"
      xmlns:="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<meta name="_csrf" th:content="${_csrf.token}"/>
<meta name="_csrf_header" th:content="${_csrf.headerName}"/>
<head th:include="admin/layout :: header">
    <title th:text="SDG Indicator Monitoring">SDG Indicator Monitoring</title>
</head>
<body>
<div th:include="admin/layout :: menu"></div>
<div id="content">
    <div id="content-header">
        <div id="breadcrumb" class="lang_indo"> <a href="#" title="Ke Home" class="tip-bottom"><i class="icon-home"></i>Laporan / Monitoring</a></div>
    </div>
    <div class="container-fluid">
        <div class="row-fluid">
            <div style="width:100%">
                <select id="daerah" name="daerah" class="form-control">
                    <option value="0" >-- Pilih Daerah --</option>
                    <option th:each="f:${listprov}" th:value="${f.id_prov}" th:text="${f.acronym}"></option>
                </select>
                <select id="role" name="idrole" class="form-control">
                    <option value="0" >-- Pilih Role --</option>
                </select>
                <select id="periode" name="idmonper" class="form-control">
                    <option value="0" >-- Pilih Periode --</option>
                </select>
            </div>
            <div style="width:100%">
                <select id="goals" name="goals" class="form-control">
                    <option value="0" >-- Pilih SDGs --</option>
                    <option id="optgoals" th:each="f:${listgoals}" th:value="${f.id}" th:text="${f.nm_goals}"></option>
                </select>
                <select id="target" name="target" class="form-control">
                    <option value="0" >-- Pilih Target --</option>
                </select>
                <select id="indikator" name="indikator" class="form-control">
                    <option value="0" >-- Pilih Indikator --</option>
                </select>
            </div>
            <div class="widget-box">
                <div class="widget-title">
                    <span class="icon"><i class="icon-tasks"></i></span>
                    <h5 id="title">Laporan Hasil Monitor</h5>
                </div>
                <div class="widget-content">
                    <div id="indi">
	                	<!-- <div id="divgoals" style="width:100%"></div>
	                	<div id="divtarget" style="width:100%"></div>
                    	<table id="tabatas" class='table table-striped table-bordered'></table><br><br> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:include="admin/layout :: footer"></div>
<script th:inline="javascript">
    var lang = [[${lang}]];
    if (lang == null) lang = "0";
    var name = [[${name}]];
    var role = [[${role}]];
    $("#welcome").html("Welcome, "+name);

    indo();

    if (lang == "0") {
        indo();
    } else {
        inggris();
    }

    $('#fs').on('change', function(){
        if($(this).is(':checked')){
            indo();
        } else {
            inggris();
        }
    });

    function indo() {
        $("#title").text("Laporan Hasil Monitor");
        $("#th1").text("Sumber Pendanaan");
        $("#th2").text("Satuan");
        $("#th3").text("Baseline");
    }

    function inggris() {
        $("#title").text("Monitoring Report");
        $("#th1").text("Funding Source");
        $("#th2").text("Unit");
        $("#th3").text("Baseline");
    }

    // ********************** Fungsi pilih select option Provinsi **********************
    $("#daerah").on("change", function(){
        var valdaerah = $(this).val();
        if (valdaerah != "0") {
            $.ajax({
                url: urls + "getrolebyidprov",
                type: 'get',
                data: 'id_prov='+valdaerah,
                dataType: 'json',
                cache: false,
                success: function(result) {
                    //console.log(result);
                    $("#role").empty();
                    $("#role").append("<option value='0'>-- Pilih Role --</option>");
                    for (var i=0; i<result.length; i++) {
                        $("#role").append("<option value='" + result[i]['id_role'] + "'>" + result[i]['nm_role'] + "</option>");
                    }
                }
            });
            $.ajax({
                url: urls + "getranradbyidprov",
                type: 'get',
                data: 'id_prov='+valdaerah,
                dataType: 'json',
                cache: false,
                success: function(result) {
                    $("#periode").empty();
                    $("#periode").append("<option value='0'>-- Pilih Periode --</option>");
                    for (var i = 0; i < result.length; i++) {
                        $("#periode").append("<option value='" + result[i]['id_monper'] + "'>" + result[i]['start_year'] + " - " + result[i]['end_year'] + "</option>");
                    }
                }
            });
        }
    });

    // ********************** Fungsi pilih select option Role **********************
    var status;
    function callback(response) {
        status = response;
    }
    $("#role").on("change", function(){
        var idrole = $(this).val();
        if (idrole != "0") {
            $.ajax({
                url: urls + "getdatarole",
                type: 'get',
                data: 'id_role=' + idrole,
                dataType: 'json',
                cache: false,
                global: false,
                success: function (result) {
                    // console.log(result[0]);
                    callback(result[0]);
                }
            });
        }
    });

    $("#periode").on("change", function(){
        var idmonper = $(this).val();
        var idrole = $("#role").val();
        var idprov = $("#daerah").val();
        $.ajax({
        	url: urls + "getentryshowreport",
            type: 'get',
            data: 'id_monper=' + idmonper,
            dataType: 'json',
            cache: false,
            success: function (res) {
            	//console.log(res);
            	if (res.length == 0) {
            		$("#indi").empty();
            		swal("Data tidak ditemukan!");
            		if (lang == "1") {
            			swal("Data not found!");
            		}
            	} else {
            		$("#indi").empty();
            		var idrole = $("#role").val();
            		for (var i=0; i<res.length; i++) {
            			if (res[i][5] == "entry_sdg") {
	                		$.ajax({
	                			url: urls + "getentrysdgyear",
	                            type: 'get',
	                            data: {"id_role":idrole, "id_monper":res[i][1], "year_entry":res[i][2]},
	                            dataType: 'json',
	                            cache: false,
	                            global: false,
	                            success: function (result) {
	                            	//console.log(result);
	                            	for (var j=0; j<result.length; j++) {
	                            		var div = "<div style='width:100%;padding:4px;text-align:center;background-color:#3EC1E9;display:block;'>"
	                            					+"<b><p id='goals"+(j+1)+"' style='margin-top:7px;'>"+result[j][17]+"</p></b>"
	                            					+"</div><br>";
	                            		div += "<p id='target"+(i+1)+"'>"+result[j][19]+"</p>";
	                            		div += "<p id='indikator"+(j+1)+"'>"+result[j][21]+"</p>";
	                            		div += "<table id='tabatas"+(j+1)+"' class='table table-striped table-bordered'></table>";
	                            		div += "<div style='width:auto;height:auto;overflow-x:auto;white-space:nowrap;'>"
	                            		+"<table id='tabawah"+(j+1)+"' class='table table-striped table-bordered'></table></div>";
	                            		$("#indi").append(div);
	                            		//***************** Tabel Atas *****************
	                            		if (result[j][15] == "yearly") {
	                            			var tab = "<tr>";
	                            	    	tab += "<th id='head1' style='vertical-align:middle;width:15%;' rowspan='4'>Sumber Pendanaan</th>";
	                            	    	tab += "<th id='head2' style='vertical-align:middle;' rowspan='4'>Satuan</th>";
	                            	    	tab += "<th id='head3' style='vertical-align:middle;' rowspan='4'>Baseline</th>";
	                            	    	tab += "<th id='head4' style='vertical-align:middle;' colspan='5'>Target</th>";
	                            	    	tab += "<th id='head5' style='vertical-align:middle;' colspan='5'>Realisasi</th>";
	                            	    	tab += "<th id='head6' style='vertical-align:middle;' rowspan='4'>Status</th>";
	                            	    	tab += "</tr>";
	                            	    	tab += "<tr>";
	                            	    	tab += "<th id='htar1' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+0)+"</th>";
	                            	    	tab += "<th id='htar2' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+1)+"</th>";
	                            	    	tab += "<th id='htar3' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+2)+"</th>";
	                            	    	tab += "<th id='htar4' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+3)+"</th>";
	                            	    	tab += "<th id='htar5' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+4)+"</th>";
	                            	    	tab += "</tr>";
	                            	    	tab += "<tr>";
	                            	    	tab += "<th id='hreal1' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+0)+"</th>";
	                            	    	tab += "<th id='hreal2' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+1)+"</th>";
	                            	    	tab += "<th id='hreal3' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+2)+"</th>";
	                            	    	tab += "<th id='hreal4' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+3)+"</th>";
	                            	    	tab += "<th id='hreal5' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+4)+"</th>";
	                            	    	tab += "</tr>";
	                            	    	tab += "<tr>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "</tr>";
	                            	    	$("#tabatas"+(j+1)).append(tab);
	                            	    	var rowatas = "<tr id='rowat"+(j+1)+"'>";
	                            	    	rowatas += "<td id='rowatas1'>"+result[j][23]+"</td>";
	                            	    	rowatas += "<td id='rowatas2' style='text-align:center;'>"+result[j][24]+"</td>";
	                            	    	rowatas += "<td id='rowatas3'></td>";
	                            	    	if (result[j][25] == null){result[j][25] = 0;}
	                            	    	rowatas += "<td id='rowatas4' style='text-align:center;'>"+(result[j][25])+"</td>";
	                            	    	if (result[j][26] == null){result[j][26] = 0;}
	                            	    	rowatas += "<td id='rowatas5' style='text-align:center;'>"+(result[j][26])+"</td>";
	                            	    	if (result[j][27] == null){result[j][27] = 0;}
	                            	    	rowatas += "<td id='rowatas6' style='text-align:center;'>"+(result[j][27])+"</td>";
	                            	    	if (result[j][28] == null){result[j][28] = 0;}
	                            	    	rowatas += "<td id='rowatas7' style='text-align:center;'>"+(result[j][28])+"</td>";
	                            	    	if (result[j][29] == null){result[j][29] = 0;}
	                            	    	rowatas += "<td id='rowatas8' style='text-align:center;'>"+(result[j][29])+"</td>";
	                            	    	if (result[j][2] == null){result[j][2] = 0;}
	                            	    	rowatas += "<td id='rowatas9' style='text-align:center;'>"+result[j][2]+"</td>";
	                            	    	if (result[j][30] == null){result[j][30] = 0;}
	                            	    	rowatas += "<td id='rowatas10' style='text-align:center;'>"+result[j][30]+"</td>";
	                            	    	if (result[j][31] == null){result[j][31] = 0;}
	                            	    	rowatas += "<td id='rowatas11' style='text-align:center;'>"+result[j][31]+"</td>";
	                            	    	if (result[j][32] == null){result[j][32] = 0;}
	                            	    	rowatas += "<td id='rowatas12' style='text-align:center;'>"+result[j][32]+"</td>";
	                            	    	if (result[j][33] == null){result[j][33] = 0;}
	                            	    	rowatas += "<td id='rowatas13' style='text-align:center;'>"+result[j][33]+"</td>";
	                            	    	rowatas += "<td id='rowatas14' align='center' style='vertical-align:middle;'>"
	                            	    		+"<div style='width:10px;height:10px;background:green;border-radius:50%;margin:0 auto;'></div></td>";
	                            	    	rowatas += "</tr>";
	                            	    	$("#tabatas"+(j+1)).append(rowatas);
	                            	    	//*********************** Tabel Bawah ********************
	                            	    	var tabaw = "<tr>";
	                            	    	tabaw += "<th id='hb1' style='vertical-align:middle;width:15%;' rowspan='4'>Nama Program</th>";
	                            	    	tabaw += "<th id='hb2' style='vertical-align:middle;' rowspan='4'>Kegiatan</th>";
	                            	    	tabaw += "<th id='hb3' style='vertical-align:middle;' rowspan='4'>Indikator</th>";
	                            	    	tabaw += "<th id='hb4' style='vertical-align:middle;' rowspan='4'>Satuan</th>";
	                            	    	tabaw += "<th id='hb5' style='vertical-align:middle;' colspan='5'>Target</th>";
	                            	    	tabaw += "<th id='hb6' style='vertical-align:middle;' colspan='5'>Realisasi</th>";
	                            	    	tabaw += "<th id='hb7' style='vertical-align:middle;' colspan='5'>Budget</th>";
	                            	    	tabaw += "<th id='hb8' style='vertical-align:middle;' rowspan='4'>Sumber Pendanaan</th>";
	                            	    	tabaw += "<th id='hb9' style='vertical-align:middle;' rowspan='4'>Lokasi</th>";
	                            	    	tabaw += "<th id='hb10' style='vertical-align:middle;' rowspan='4'>Pelaku</th>";
	                            	    	tabaw += "</tr>";
	                            	    	tabaw += "<tr>";
	                            	    	tabaw += "<th id='hbtar1' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+0)+"</th>";
	                            	    	tabaw += "<th id='hbtar2' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+1)+"</th>";
	                            	    	tabaw += "<th id='hbtar3' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+2)+"</th>";
	                            	    	tabaw += "<th id='hbtar4' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+3)+"</th>";
	                            	    	tabaw += "<th id='hbtar5' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+4)+"</th>";
	                            	    	tabaw += "</tr>";
	                            	    	tabaw += "<tr>";
	                            	    	tabaw += "<th id='hbreal1' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+0)+"</th>";
	                            	    	tabaw += "<th id='hbreal2' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+1)+"</th>";
	                            	    	tabaw += "<th id='hbreal3' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+2)+"</th>";
	                            	    	tabaw += "<th id='hbreal4' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+3)+"</th>";
	                            	    	tabaw += "<th id='hbreal5' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+4)+"</th>";
	                            	    	tabaw += "<th id='hbreal11' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+0)+"</th>";
	                            	    	tabaw += "<th id='hbreal12' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+1)+"</th>";
	                            	    	tabaw += "<th id='hbreal13' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+2)+"</th>";
	                            	    	tabaw += "<th id='hbreal14' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+3)+"</th>";
	                            	    	tabaw += "<th id='hbreal15' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+4)+"</th>";
	                            	    	tabaw += "</tr>";
	                            	    	tabaw += "<tr>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "</tr>";
	                            	    	$("#tabawah"+(j+1)).append(tabaw);
	                            	    	$.ajax({
	                            	    		url: urls + "getgovindicator",
	            	                            type: 'get',
	            	                            data: {"id_prov":$("#daerah").val(),"id_sdg_indicator":result[j][1],"id_monper":result[j][14],"id_role":$("#role").val()},
	            	                            dataType: 'json',
	            	                            cache: false,
	            	                            global: false,
	            	                            success: function (resgoventry) {
	            	                            	console.log(resgoventry);
	            	                            	var rowbawah = "<tr id='rowbwh'"+(j+1)+">";
	            	                            	rowbawah += "<td id='rowb1'>"+resgoventry[7]+"</td>";
	            	                            	rowbawah += "<td id='rowb2'>"+resgoventry[9]+"</td>";
	            	                            	rowbawah += "<td id='rowb3'>"+resgoventry[11]+"</td>";
	            	                            	rowbawah += "<td id='rowb4'>"+resgoventry[13]+"</td>";
	            	                            	rowbawah += "<td id='rowb5'></td>";
	            	                            	rowbawah += "<td id='rowb6'></td>";
	            	                            	rowbawah += "<td id='rowb7'></td>";
	            	                            	rowbawah += "<td id='rowb8'></td>";
	            	                            	rowbawah += "<td id='rowb9'></td>";
	            	                            	rowbawah += "<td id='rowb10'></td>";
	            	                            	rowbawah += "<td id='rowb11'></td>";
	            	                            	rowbawah += "<td id='rowb12'></td>";
	            	                            	rowbawah += "<td id='rowb13'></td>";
	            	                            	rowbawah += "<td id='rowb14'></td>";
	            	                            	rowbawah += "<td id='rowb15'></td>";
	            	                            	rowbawah += "<td id='rowb16'></td>";
	            	                            	rowbawah += "<td id='rowb17'></td>";
	            	                            	rowbawah += "<td id='rowb18'></td>";
	            	                            	rowbawah += "<td id='rowb19'></td>";
	            	                            	rowbawah += "<td id='rowb20'></td>";
	            	                            	rowbawah += "<td id='rowb21'></td>";
	            	                            	rowbawah += "<td id='rowb22'></td>";
	            	                            	rowbawah += "</tr>";
	            	                            	$("#tabawah"+(j+1)).append(rowbawah);
	            	                            }
	                            	    	});
	                            		} else if (result[j][15] == "semesterly") {
	                            			var tab = "<tr>";
	                            	    	tab += "<th id='head1' style='vertical-align:middle;width:15%;' rowspan='4'>Sumber Pendanaan</th>";
	                            	    	tab += "<th id='head2' style='vertical-align:middle;' rowspan='4'>Satuan</th>";
	                            	    	tab += "<th id='head3' style='vertical-align:middle;' rowspan='4'>Baseline</th>";
	                            	    	tab += "<th id='head4' style='vertical-align:middle;' colspan='5'>Target</th>";
	                            	    	tab += "<th id='head5' style='vertical-align:middle;' colspan='5'>Realisasi</th>";
	                            	    	tab += "<th id='head6' style='vertical-align:middle;' rowspan='4'>Status</th>";
	                            	    	tab += "</tr>";
	                            	    	tab += "<tr>";
	                            	    	tab += "<th id='htar1' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+0)+"</th>";
	                            	    	tab += "<th id='htar2' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+1)+"</th>";
	                            	    	tab += "<th id='htar3' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+2)+"</th>";
	                            	    	tab += "<th id='htar4' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+3)+"</th>";
	                            	    	tab += "<th id='htar5' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+4)+"</th>";
	                            	    	tab += "</tr>";
	                            	    	tab += "<tr>";
	                            	    	tab += "<th id='hreal1' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+0)+"</th>";
	                            	    	tab += "<th id='hreal2' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+1)+"</th>";
	                            	    	tab += "<th id='hreal3' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+2)+"</th>";
	                            	    	tab += "<th id='hreal4' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+3)+"</th>";
	                            	    	tab += "<th id='hreal5' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+4)+"</th>";
	                            	    	tab += "</tr>";
	                            	    	tab += "<tr>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "</tr>";
	                            	    	$("#tabatas"+(j+1)).append(tab);
	                            	    	var rowatas = "<tr id='rowat"+(j+1)+"'>";
	                            	    	rowatas += "<td id='rowatas1'>"+result[j][23]+"</td>";
	                            	    	rowatas += "<td id='rowatas2' style='text-align:center;'>"+result[j][24]+"</td>";
	                            	    	rowatas += "<td id='rowatas3'></td>";
	                            	    	if (result[j][25] == null){result[j][25] = 0;}
	                            	    	rowatas += "<td id='rowatas4' style='text-align:center;'>"+(result[j][25])+"</td>";
	                            	    	if (result[j][26] == null){result[j][26] = 0;}
	                            	    	rowatas += "<td id='rowatas5' style='text-align:center;'>"+(result[j][26])+"</td>";
	                            	    	if (result[j][27] == null){result[j][27] = 0;}
	                            	    	rowatas += "<td id='rowatas6' style='text-align:center;'>"+(result[j][27])+"</td>";
	                            	    	if (result[j][28] == null){result[j][28] = 0;}
	                            	    	rowatas += "<td id='rowatas7' style='text-align:center;'>"+(result[j][28])+"</td>";
	                            	    	if (result[j][29] == null){result[j][29] = 0;}
	                            	    	rowatas += "<td id='rowatas8' style='text-align:center;'>"+(result[j][29])+"</td>";
	                            	    	if (result[j][2] == null){result[j][2] = 0;}
	                            	    	rowatas += "<td id='rowatas9' style='text-align:center;'>"+result[j][2]+"</td>";
	                            	    	if (result[j][30] == null){result[j][30] = 0;}
	                            	    	rowatas += "<td id='rowatas10' style='text-align:center;'>"+result[j][30]+"</td>";
	                            	    	if (result[j][31] == null){result[j][31] = 0;}
	                            	    	rowatas += "<td id='rowatas11' style='text-align:center;'>"+result[j][31]+"</td>";
	                            	    	if (result[j][32] == null){result[j][32] = 0;}
	                            	    	rowatas += "<td id='rowatas12' style='text-align:center;'>"+result[j][32]+"</td>";
	                            	    	if (result[j][33] == null){result[j][33] = 0;}
	                            	    	rowatas += "<td id='rowatas13' style='text-align:center;'>"+result[j][33]+"</td>";
	                            	    	rowatas += "<td id='rowatas14' align='center' style='vertical-align:middle;'>"
	                            	    		+"<div style='width:10px;height:10px;background:green;border-radius:50%;margin:0 auto;'></div></td>";
	                            	    	rowatas += "</tr>";
	                            	    	$("#tabatas"+(j+1)).append(rowatas);
	                            	    	//*********************** Tabel Bawah ********************
	                            	    	var tabaw = "<tr>";
	                            	    	tabaw += "<th id='hb1' style='vertical-align:middle;width:15%;' rowspan='4'>Nama Program</th>";
	                            	    	tabaw += "<th id='hb2' style='vertical-align:middle;' rowspan='4'>Kegiatan</th>";
	                            	    	tabaw += "<th id='hb3' style='vertical-align:middle;' rowspan='4'>Indikator</th>";
	                            	    	tabaw += "<th id='hb4' style='vertical-align:middle;' rowspan='4'>Satuan</th>";
	                            	    	tabaw += "<th id='hb5' style='vertical-align:middle;' colspan='5'>Target</th>";
	                            	    	tabaw += "<th id='hb6' style='vertical-align:middle;' colspan='5'>Realisasi</th>";
	                            	    	tabaw += "<th id='hb7' style='vertical-align:middle;' colspan='5'>Budget</th>";
	                            	    	tabaw += "<th id='hb8' style='vertical-align:middle;' rowspan='4'>Sumber Pendanaan</th>";
	                            	    	tabaw += "<th id='hb9' style='vertical-align:middle;' rowspan='4'>Lokasi</th>";
	                            	    	tabaw += "<th id='hb10' style='vertical-align:middle;' rowspan='4'>Pelaku</th>";
	                            	    	tabaw += "</tr>";
	                            	    	tabaw += "<tr>";
	                            	    	tabaw += "<th id='hbtar1' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+0)+"</th>";
	                            	    	tabaw += "<th id='hbtar2' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+1)+"</th>";
	                            	    	tabaw += "<th id='hbtar3' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+2)+"</th>";
	                            	    	tabaw += "<th id='hbtar4' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+3)+"</th>";
	                            	    	tabaw += "<th id='hbtar5' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+4)+"</th>";
	                            	    	tabaw += "</tr>";
	                            	    	tabaw += "<tr>";
	                            	    	tabaw += "<th id='hbreal1' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+0)+"</th>";
	                            	    	tabaw += "<th id='hbreal2' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+1)+"</th>";
	                            	    	tabaw += "<th id='hbreal3' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+2)+"</th>";
	                            	    	tabaw += "<th id='hbreal4' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+3)+"</th>";
	                            	    	tabaw += "<th id='hbreal5' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+4)+"</th>";
	                            	    	tabaw += "<th id='hbreal11' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+0)+"</th>";
	                            	    	tabaw += "<th id='hbreal12' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+1)+"</th>";
	                            	    	tabaw += "<th id='hbreal13' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+2)+"</th>";
	                            	    	tabaw += "<th id='hbreal14' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+3)+"</th>";
	                            	    	tabaw += "<th id='hbreal15' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+4)+"</th>";
	                            	    	tabaw += "</tr>";
	                            	    	tabaw += "<tr>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "</tr>";
	                            	    	$("#tabawah"+(j+1)).append(tabaw);
	                            	    	$.ajax({
	                            	    		url: urls + "getgovindicator",
	            	                            type: 'get',
	            	                            data: {"id_prov":$("#daerah").val(),"id_sdg_indicator":result[j][1],"id_monper":result[j][14],"id_role":$("#role").val()},
	            	                            dataType: 'json',
	            	                            cache: false,
	            	                            global: false,
	            	                            success: function (resgoventry) {
	            	                            	console.log(resgoventry);
	            	                            	var rowbawah = "<tr id='rowbwh'"+(j+1)+">";
	            	                            	rowbawah += "<td id='rowb1'>"+resgoventry[7]+"</td>";
	            	                            	rowbawah += "<td id='rowb2'>"+resgoventry[9]+"</td>";
	            	                            	rowbawah += "<td id='rowb3'>"+resgoventry[11]+"</td>";
	            	                            	rowbawah += "<td id='rowb4'>"+resgoventry[13]+"</td>";
	            	                            	rowbawah += "<td id='rowb5'></td>";
	            	                            	rowbawah += "<td id='rowb6'></td>";
	            	                            	rowbawah += "<td id='rowb7'></td>";
	            	                            	rowbawah += "<td id='rowb8'></td>";
	            	                            	rowbawah += "<td id='rowb9'></td>";
	            	                            	rowbawah += "<td id='rowb10'></td>";
	            	                            	rowbawah += "<td id='rowb11'></td>";
	            	                            	rowbawah += "<td id='rowb12'></td>";
	            	                            	rowbawah += "<td id='rowb13'></td>";
	            	                            	rowbawah += "<td id='rowb14'></td>";
	            	                            	rowbawah += "<td id='rowb15'></td>";
	            	                            	rowbawah += "<td id='rowb16'></td>";
	            	                            	rowbawah += "<td id='rowb17'></td>";
	            	                            	rowbawah += "<td id='rowb18'></td>";
	            	                            	rowbawah += "<td id='rowb19'></td>";
	            	                            	rowbawah += "<td id='rowb20'></td>";
	            	                            	rowbawah += "<td id='rowb21'></td>";
	            	                            	rowbawah += "<td id='rowb22'></td>";
	            	                            	rowbawah += "</tr>";
	            	                            	$("#tabawah"+(j+1)).append(rowbawah);
	            	                            }
	                            	    	});
	                            		} else if (result[j][15] == "quarterly") {
	                            			var tab = "<tr>";
	                            	    	tab += "<th id='head1' style='vertical-align:middle;width:15%;' rowspan='4'>Sumber Pendanaan</th>";
	                            	    	tab += "<th id='head2' style='vertical-align:middle;' rowspan='4'>Satuan</th>";
	                            	    	tab += "<th id='head3' style='vertical-align:middle;' rowspan='4'>Baseline</th>";
	                            	    	tab += "<th id='head4' style='vertical-align:middle;' colspan='5'>Target</th>";
	                            	    	tab += "<th id='head5' style='vertical-align:middle;' colspan='5'>Realisasi</th>";
	                            	    	tab += "<th id='head6' style='vertical-align:middle;' rowspan='4'>Status</th>";
	                            	    	tab += "</tr>";
	                            	    	tab += "<tr>";
	                            	    	tab += "<th id='htar1' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+0)+"</th>";
	                            	    	tab += "<th id='htar2' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+1)+"</th>";
	                            	    	tab += "<th id='htar3' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+2)+"</th>";
	                            	    	tab += "<th id='htar4' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+3)+"</th>";
	                            	    	tab += "<th id='htar5' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+4)+"</th>";
	                            	    	tab += "</tr>";
	                            	    	tab += "<tr>";
	                            	    	tab += "<th id='hreal1' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+0)+"</th>";
	                            	    	tab += "<th id='hreal2' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+1)+"</th>";
	                            	    	tab += "<th id='hreal3' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+2)+"</th>";
	                            	    	tab += "<th id='hreal4' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+3)+"</th>";
	                            	    	tab += "<th id='hreal5' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+4)+"</th>";
	                            	    	tab += "</tr>";
	                            	    	tab += "<tr>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tab += "</tr>";
	                            	    	$("#tabatas"+(j+1)).append(tab);
	                            	    	var rowatas = "<tr id='rowat"+(j+1)+"'>";
	                            	    	rowatas += "<td id='rowatas1'>"+result[j][23]+"</td>";
	                            	    	rowatas += "<td id='rowatas2' style='text-align:center;'>"+result[j][24]+"</td>";
	                            	    	rowatas += "<td id='rowatas3'></td>";
	                            	    	if (result[j][25] == null){result[j][25] = 0;}
	                            	    	rowatas += "<td id='rowatas4' style='text-align:center;'>"+(result[j][25])+"</td>";
	                            	    	if (result[j][26] == null){result[j][26] = 0;}
	                            	    	rowatas += "<td id='rowatas5' style='text-align:center;'>"+(result[j][26])+"</td>";
	                            	    	if (result[j][27] == null){result[j][27] = 0;}
	                            	    	rowatas += "<td id='rowatas6' style='text-align:center;'>"+(result[j][27])+"</td>";
	                            	    	if (result[j][28] == null){result[j][28] = 0;}
	                            	    	rowatas += "<td id='rowatas7' style='text-align:center;'>"+(result[j][28])+"</td>";
	                            	    	if (result[j][29] == null){result[j][29] = 0;}
	                            	    	rowatas += "<td id='rowatas8' style='text-align:center;'>"+(result[j][29])+"</td>";
	                            	    	if (result[j][2] == null){result[j][2] = 0;}
	                            	    	rowatas += "<td id='rowatas9' style='text-align:center;'>"+result[j][2]+"</td>";
	                            	    	if (result[j][30] == null){result[j][30] = 0;}
	                            	    	rowatas += "<td id='rowatas10' style='text-align:center;'>"+result[j][30]+"</td>";
	                            	    	if (result[j][31] == null){result[j][31] = 0;}
	                            	    	rowatas += "<td id='rowatas11' style='text-align:center;'>"+result[j][31]+"</td>";
	                            	    	if (result[j][32] == null){result[j][32] = 0;}
	                            	    	rowatas += "<td id='rowatas12' style='text-align:center;'>"+result[j][32]+"</td>";
	                            	    	if (result[j][33] == null){result[j][33] = 0;}
	                            	    	rowatas += "<td id='rowatas13' style='text-align:center;'>"+result[j][33]+"</td>";
	                            	    	rowatas += "<td id='rowatas14' align='center' style='vertical-align:middle;'>"
	                            	    		+"<div style='width:10px;height:10px;background:green;border-radius:50%;margin:0 auto;'></div></td>";
	                            	    	rowatas += "</tr>";
	                            	    	$("#tabatas"+(j+1)).append(rowatas);
	                            	    	//*********************** Tabel Bawah ********************
	                            	    	var tabaw = "<tr>";
	                            	    	tabaw += "<th id='hb1' style='vertical-align:middle;width:15%;' rowspan='4'>Nama Program</th>";
	                            	    	tabaw += "<th id='hb2' style='vertical-align:middle;' rowspan='4'>Kegiatan</th>";
	                            	    	tabaw += "<th id='hb3' style='vertical-align:middle;' rowspan='4'>Indikator</th>";
	                            	    	tabaw += "<th id='hb4' style='vertical-align:middle;' rowspan='4'>Satuan</th>";
	                            	    	tabaw += "<th id='hb5' style='vertical-align:middle;' colspan='5'>Target</th>";
	                            	    	tabaw += "<th id='hb6' style='vertical-align:middle;' colspan='5'>Realisasi</th>";
	                            	    	tabaw += "<th id='hb7' style='vertical-align:middle;' colspan='5'>Budget</th>";
	                            	    	tabaw += "<th id='hb8' style='vertical-align:middle;' rowspan='4'>Sumber Pendanaan</th>";
	                            	    	tabaw += "<th id='hb9' style='vertical-align:middle;' rowspan='4'>Lokasi</th>";
	                            	    	tabaw += "<th id='hb10' style='vertical-align:middle;' rowspan='4'>Pelaku</th>";
	                            	    	tabaw += "</tr>";
	                            	    	tabaw += "<tr>";
	                            	    	tabaw += "<th id='hbtar1' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+0)+"</th>";
	                            	    	tabaw += "<th id='hbtar2' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+1)+"</th>";
	                            	    	tabaw += "<th id='hbtar3' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+2)+"</th>";
	                            	    	tabaw += "<th id='hbtar4' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+3)+"</th>";
	                            	    	tabaw += "<th id='hbtar5' style='vertical-align:middle;width:5%;' rowspan='3'>"+(result[j][16]+4)+"</th>";
	                            	    	tabaw += "</tr>";
	                            	    	tabaw += "<tr>";
	                            	    	tabaw += "<th id='hbreal1' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+0)+"</th>";
	                            	    	tabaw += "<th id='hbreal2' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+1)+"</th>";
	                            	    	tabaw += "<th id='hbreal3' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+2)+"</th>";
	                            	    	tabaw += "<th id='hbreal4' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+3)+"</th>";
	                            	    	tabaw += "<th id='hbreal5' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+4)+"</th>";
	                            	    	tabaw += "<th id='hbreal11' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+0)+"</th>";
	                            	    	tabaw += "<th id='hbreal12' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+1)+"</th>";
	                            	    	tabaw += "<th id='hbreal13' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+2)+"</th>";
	                            	    	tabaw += "<th id='hbreal14' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+3)+"</th>";
	                            	    	tabaw += "<th id='hbreal15' style='vertical-align:middle;width:5%;' colspan='1'>"+(result[j][16]+4)+"</th>";
	                            	    	tabaw += "</tr>";
	                            	    	tabaw += "<tr>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "<th style='vertical-align:middle;'>I</th>";
	                            	    	tabaw += "</tr>";
	                            	    	$("#tabawah"+(j+1)).append(tabaw);
	                            	    	$.ajax({
	                            	    		url: urls + "getgovindicator",
	            	                            type: 'get',
	            	                            data: {"id_prov":$("#daerah").val(),"id_sdg_indicator":result[j][1],"id_monper":result[j][14],"id_role":$("#role").val()},
	            	                            dataType: 'json',
	            	                            cache: false,
	            	                            global: false,
	            	                            success: function (resgoventry) {
	            	                            	console.log(resgoventry);
	            	                            	var rowbawah = "<tr id='rowbwh'"+(j+1)+">";
	            	                            	rowbawah += "<td id='rowb1'>"+resgoventry[7]+"</td>";
	            	                            	rowbawah += "<td id='rowb2'>"+resgoventry[9]+"</td>";
	            	                            	rowbawah += "<td id='rowb3'>"+resgoventry[11]+"</td>";
	            	                            	rowbawah += "<td id='rowb4'>"+resgoventry[13]+"</td>";
	            	                            	rowbawah += "<td id='rowb5'></td>";
	            	                            	rowbawah += "<td id='rowb6'></td>";
	            	                            	rowbawah += "<td id='rowb7'></td>";
	            	                            	rowbawah += "<td id='rowb8'></td>";
	            	                            	rowbawah += "<td id='rowb9'></td>";
	            	                            	rowbawah += "<td id='rowb10'></td>";
	            	                            	rowbawah += "<td id='rowb11'></td>";
	            	                            	rowbawah += "<td id='rowb12'></td>";
	            	                            	rowbawah += "<td id='rowb13'></td>";
	            	                            	rowbawah += "<td id='rowb14'></td>";
	            	                            	rowbawah += "<td id='rowb15'></td>";
	            	                            	rowbawah += "<td id='rowb16'></td>";
	            	                            	rowbawah += "<td id='rowb17'></td>";
	            	                            	rowbawah += "<td id='rowb18'></td>";
	            	                            	rowbawah += "<td id='rowb19'></td>";
	            	                            	rowbawah += "<td id='rowb20'></td>";
	            	                            	rowbawah += "<td id='rowb21'></td>";
	            	                            	rowbawah += "<td id='rowb22'></td>";
	            	                            	rowbawah += "</tr>";
	            	                            	$("#tabawah"+(j+1)).append(rowbawah);
	            	                            }
	                            	    	});
	                            		}
	                            	}
	                            }
	                		});
            			} else if (result[i][5] == "entry_gov_indicator") {
            				
            			} else if (result[i][5] == "entry_nsa_indicator") {
            				
            			}
            		}
            	}
            }
        });
    });
    
</script>
</body>
</html>